<?php

namespace App\Http\Controllers;

use App\Http\Resources\AdvertisementResource;
use App\Models\Advertisement;
use App\Models\AdvertisingPackage;
use App\Models\Order;
use App\Models\Property;
use App\Models\User;
use App\Traits\GeneralTrait;
use Carbon\Carbon;
use GuzzleHttp\Client;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Validator;
use Illuminate\Support\Str;
use Laravel\Socialite\Facades\Socialite;

class GoogleLoginController extends Controller
{
    use GeneralTrait;

    public function redirectToProvider()
    {
        $url = "https://accounts.google.com/o/oauth2/auth";
        // Use the route helper for the callback
        $params = [
            "response_type" => "code",
            "client_id" => env('GOOGLE_CLIENT_ID'), // Replace with your client ID
//            "redirect_uri" => route('oauth.callback'), // Update to your specific route
            "redirect_uri" => env('GOOGLE_REDIRECT_URI'), // Update to your specific route
            "scope" => "https://www.googleapis.com/auth/plus.me"
        ];

        $requestUrl = $url . '?' . http_build_query($params);


        // Return a JSON response with the redirect URL
        return response()->json(['url' => $requestUrl]);
    }

    public function redirectToGoogle()
    {
        return Socialite::driver('google')->redirect();
    }

    public function handleProviderCallback(Request $request)
    {
        // Check if there is an error in the request
        if ($request->has('error')) {
            return response()->json(['error' => $request->input('error')], 400);
        }

        // Extract the authorization code from the request
        $code = $request->input('code');

        $client = new Client();

        // Now, exchange the code for an access token
        try {
            $response = $client->post('https://oauth2.googleapis.com/token', [
                'form_params' => [
                    'code' => $code,
                    'client_id' => env('GOOGLE_CLIENT_ID'), // Replace with your actual client ID
                    'client_secret' => env('GOOGLE_CLIENT_SECRET'), // Replace with your actual client secret
                    'redirect_uri' => env('GOOGLE_REDIRECT_URI'),
                    'grant_type' => 'authorization_code',
                ],
            ]);

            $body = json_decode((string) $response->getBody(), true);

            return $body['access_token'];
//            // You now have access_token, refresh_token, etc.
//           $access_token=response()->json($body)->access_token;
//           return $this->returnData('access_token', $access_token);
            return response()->json($body)['access_token'];
        } catch (\Exception $e) {
            return response()->json(['error' => 'Failed to fetch tokens.'], 500);
        }
    }

//    public function handleGoogleCallback()
//    {
//        $user = Socialite::driver('google')->user();
//        return $this->returnData('user',$user);
////        $existingUser = User::where('google_id', $user->id)->first();
//        $existingUser = User::where('email', $user->email)->first();
//
//        if ($existingUser) {
//            // Log in the existing user.
//            $token=auth()->user()->createToken('AQAR-SERVICE')->accessToken;
//            $user_info=collect($existingUser)->put('token',$token)->put('image_profile',$existingUser->ImageProfile->url)->toArray();
//            return $this->returnData('user',$user_info,'done');
//        } else {
//            // Create a new user.
//            $newUser = new User();
//            $newUser->name = $user->name;
//            $newUser->email = $user->email;
////            $newUser->google_id = $user->id;
//            $newUser->password = bcrypt(request(Str::random())); // Set some random password
//            $newUser->save();
//
//            // Log in the new user.
//            auth()->login($newUser, true);
//            return $newUser;
//        }
////
////        // Redirect to url as requested by user, if empty use /dashboard page as generated by Jetstream
//        return "www";
//    }
//
    public function handleProviderCallbackApi(Request $request)
    {
        $validator = Validator::make($request->only('access_provider_token'), [
            'access_provider_token' => ['required', 'string']
        ]);
        if ($validator->fails())
            return response()->json($validator->errors(), 400);
        $provider = 'google';
        $validated = $this->validateProvider($provider);
        if (!is_null($validated))
            return $validated;
        $providerUser = Socialite::driver($provider)->userFromToken($request->access_provider_token);
//        $providerUser = Socialite::driver($provider)->userFromToken($access_provider_token);
        return $this->returnData('user',$providerUser,'');
//        $user = User::firstOrCreate(
//            [
//                'email' => $providerUser->getEmail()
//            ],
//            [
//                'name' => $providerUser->getName(),
//            ]
//        );
//        $data =  [
//            'token' => $user->createToken('Sanctom+Socialite')->plainTextToken,
//            'user' => $user,
//        ];
//        return response()->json($data, 200);
    }

    protected function validateProvider($provider)
    {
        if (!in_array($provider, ['google'])) {
            return response()->json(["message" => 'You can only login via google account'], 400);
        }
    }



    public function t()
    {
//        $p1=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "level_location"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/1.jpg",
//                    "property_image_fake/flatAndHome/inside/2.jpg",
//                    "property_image_fake/flatAndHome/outside/flat/1.jpg",
//                    "property_image_fake/flatAndHome/planing/1.jfif"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "level_location"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/1.jpg",
//                    "property_image_fake/flatAndHome/inside/2.jpg",
//                    "property_image_fake/flatAndHome/outside/flat/1.jpg",
//                    "property_image_fake/flatAndHome/planing/1.jfif"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "level_location"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/1.jpg",
//                    "property_image_fake/flatAndHome/inside/2.jpg",
//                    "property_image_fake/flatAndHome/outside/flat/1.jpg",
//                    "property_image_fake/flatAndHome/planing/1.jfif"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "level_location"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/1.jpg",
//                    "property_image_fake/flatAndHome/inside/2.jpg",
//                    "property_image_fake/flatAndHome/outside/flat/1.jpg",
//                    "property_image_fake/flatAndHome/planing/1.jfif"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "level_location"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/1.jpg",
//                    "property_image_fake/flatAndHome/inside/2.jpg",
//                    "property_image_fake/flatAndHome/outside/flat/1.jpg",
//                    "property_image_fake/flatAndHome/planing/1.jfif"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "level_location"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/1.jpg",
//                    "property_image_fake/flatAndHome/inside/2.jpg",
//                    "property_image_fake/flatAndHome/outside/flat/1.jpg",
//                    "property_image_fake/flatAndHome/planing/1.jfif"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//
//        $p2=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/3.jpg",
//                    "property_image_fake/flatAndHome/inside/4.jpg",
//                    "property_image_fake/flatAndHome/inside/6.jpg",
//                    "property_image_fake/flatAndHome/outside/home/1.jpg",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/3.jpg",
//                    "property_image_fake/flatAndHome/inside/4.jpg",
//                    "property_image_fake/flatAndHome/inside/6.jpg",
//                    "property_image_fake/flatAndHome/outside/home/1.jpg",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/3.jpg",
//                    "property_image_fake/flatAndHome/inside/4.jpg",
//                    "property_image_fake/flatAndHome/inside/6.jpg",
//                    "property_image_fake/flatAndHome/outside/home/1.jpg",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/3.jpg",
//                    "property_image_fake/flatAndHome/inside/4.jpg",
//                    "property_image_fake/flatAndHome/inside/6.jpg",
//                    "property_image_fake/flatAndHome/outside/home/1.jpg",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/3.jpg",
//                    "property_image_fake/flatAndHome/inside/4.jpg",
//                    "property_image_fake/flatAndHome/inside/6.jpg",
//                    "property_image_fake/flatAndHome/outside/home/1.jpg",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/3.jpg",
//                    "property_image_fake/flatAndHome/inside/4.jpg",
//                    "property_image_fake/flatAndHome/inside/6.jpg",
//                    "property_image_fake/flatAndHome/outside/home/1.jpg",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $p3=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "water_source"=>"well",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/5.jpg",
//                    "property_image_fake/flatAndHome/inside/7.jpg",
//                    "property_image_fake/flatAndHome/outside/mazraa/1.jfif",
//                    "property_image_fake/flatAndHome/outside/mazraa/2.jfif",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "water_source"=>"pipe",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/5.jpg",
//                    "property_image_fake/flatAndHome/inside/7.jpg",
//                    "property_image_fake/flatAndHome/outside/mazraa/3.jfif",
//                    "property_image_fake/flatAndHome/outside/mazraa/4.jfif",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "water_source"=>"well",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/5.jpg",
//                    "property_image_fake/flatAndHome/inside/7.jpg",
//                    "property_image_fake/flatAndHome/outside/mazraa/5.jfif",
//                    "property_image_fake/flatAndHome/outside/mazraa/6.jfif",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "water_source"=>"pipe",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/5.jpg",
//                    "property_image_fake/flatAndHome/inside/7.jpg",
//                    "property_image_fake/flatAndHome/outside/mazraa/7.jfif",
//                    "property_image_fake/flatAndHome/outside/mazraa/8.jfif",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "water_source"=>"well",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/5.jpg",
//                    "property_image_fake/flatAndHome/inside/7.jpg",
//                    "property_image_fake/flatAndHome/outside/mazraa/1.jfif",
//                    "property_image_fake/flatAndHome/outside/mazraa/8.jfif",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "levels_count"=>2,
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "water_source"=>"pipe",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/inside/5.jpg",
//                    "property_image_fake/flatAndHome/inside/7.jpg",
//                    "property_image_fake/flatAndHome/outside/mazraa/7.jfif",
//                    "property_image_fake/flatAndHome/outside/mazraa/2.jfif",
//                    "property_image_fake/flatAndHome/planing/2.jpg"
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $p4=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/1.png",
//                    "property_image_fake/flatAndHome/earth/2.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/3.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/4.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/5.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/6.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/7.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $p5=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/1.png",
//                    "property_image_fake/flatAndHome/earth/2.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/3.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/4.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/5.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/6.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/7.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $p6=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "number_of_floors_that_can_be_built"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/1.png",
//                    "property_image_fake/flatAndHome/earth/2.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "number_of_floors_that_can_be_built"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/3.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "number_of_floors_that_can_be_built"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/4.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "number_of_floors_that_can_be_built"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/5.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "number_of_floors_that_can_be_built"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/6.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "permissible_construction_ratio"=>40,
//                "number_of_floors_that_can_be_built"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/7.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $p7=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "water_source"=>"rain",
//                "soil_type"=>"clay",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/1.png",
//                    "property_image_fake/flatAndHome/earth/2.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "water_source"=>"well",
//                "soil_type"=>"sandy",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/3.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "water_source"=>"rain",
//                "soil_type"=>"clay",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/4.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "water_source"=>"well",
//                "soil_type"=>"sandy",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/5.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "water_source"=>"rain",
//                "soil_type"=>"clay",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/6.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "water_source"=>"well",
//                "soil_type"=>"sandy",
//                "medias"=>[
//                    "property_image_fake/flatAndHome/earth/7.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $p8=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/maqtap/1.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/maqtap/2.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/maqtap/3.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/maqtap/4.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/maqtap/5.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/maqtap/6.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $p9=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/store/1.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/store/2.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/store/3.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/store/4.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/store/1.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/store/2.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $p10=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "ceiling_height"=>6,
//                "number_of_shipping_doors"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/stroge/1.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "ceiling_height"=>6,
//                "number_of_shipping_doors"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/stroge/2.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "ceiling_height"=>6,
//                "number_of_shipping_doors"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/stroge/3.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "ceiling_height"=>6,
//                "number_of_shipping_doors"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/stroge/4.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "ceiling_height"=>6,
//                "number_of_shipping_doors"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/stroge/5.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "ceiling_height"=>6,
//                "number_of_shipping_doors"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/stroge/6.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $p11=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/showing/1.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/showing/2.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/showing/3.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/showing/4.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/showing/1.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/showing/2.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $p12=[
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "number_of_entries"=>2,
//                "number_of_exits"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/salat/1.jpg",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "number_of_entries"=>2,
//                "number_of_exits"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/salat/2.jpg",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"sale",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1500000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "number_of_entries"=>2,
//                "number_of_exits"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/salat/3.jpg",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"yearly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1200000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "number_of_entries"=>2,
//                "number_of_exits"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/salat/4.png",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"monthly",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>10000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "number_of_entries"=>2,
//                "number_of_exits"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/salat/5.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//            [
//                "publication_type"=>"rent",
//                "rent_type"=>"daily",
//                "main_category_id"=>1,
//                "sub_category_id"=>1,
//                "area"=>100,
//                "ownership_type_id"=>5,
//                "price"=>1000,
//                "country_id"=>1,
//                "city_id"=>1,
//                "region_id"=>1,
//                "secondary_address"=>"test secondary address",
//                "features"=>[1,3],
//                "directions"=>[1],
//                "description"=>"test description",
//                "rooms"=>[
//                    [
//                        "type_id"=>1,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>2,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>3,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>4,
//                        "number"=>1,
//                    ],
//                    [
//                        "type_id"=>5,
//                        "number"=>1,
//                    ]
//                ],
//                "pledge_type_id"=>1,
//                "number_of_entries"=>2,
//                "number_of_exits"=>2,
//                "medias"=>[
//                    "property_image_fake/flatAndHome/salat/6.jfif",
//                ],
//                "ownership_papers"=>[
//                    "Upload/properties_ownership_papers/1.jpg",
//                    "Upload/properties_ownership_papers/1.jpg"
//                ]
//            ],
//        ];
//        $u=User::where('id',2)->first();
////        $package_id=1;
////        $package=AdvertisingPackage::where('id',$package_id)->first();
////        $subscription_start_date=Carbon::now()->toDate();
////        $subscription_end_date=Carbon::now()->addDays($package->validity_period)->toDate();
////        $ss=$u->subscribes()->create([
////            'subscription_start_date'=>$subscription_start_date,
////            'subscription_end_date'=>$subscription_end_date,
////            'advertisements_count'=>$package->number_of_advertisements,
////            'advertising_package_id'=>$package_id
////        ]);
////        return $ss;
//
////        $subscribe=$u->subscribes()->first();
//        foreach ($p1 as $item){
//            $serial_number=$this->generate_serial_number(Property::class,1);
//            $property=new Property();
//            $property->serial_number=$serial_number;
//            $publication_type=$item['publication_type'];
//            $price=$item['price'];
//            $price_history=['price'=>intval($price),'history'=>[]];
//            $property->price_history=$price_history;
//            $property->publication_type=$publication_type;
//            if ($publication_type==='sale'){
//                $property->sale_price=$price;
//            }elseif ($publication_type==='rent'){
//                $rent_type=$item['rent_type'];
//                $rent_price=['type'=>$rent_type,'price'=>intval($price)];
//                $property->rent_price=$rent_price;
//            }
//            $property->area=$item['area'];
//            $property->age=rand(1,9);
//            $property->secondary_address=$item['secondary_address'];
//            $property->region_id=$item['region_id'];
//            $property->category_id=$item['sub_category_id'];
//            $property->ownership_type_id=$item['ownership_type_id'];
//            $property->pledge_type_id=$item['pledge_type_id'];
//            $property->save();
//
//            foreach ($item['medias'] as $media){
//                $property->medias()->create([
//                    'url'=>$media,
//                    'type'=>$this->after('.',$this->after_last('/',$media)),
//                    'size'=>rand(10,100000)
//                ]);
//            }
//            foreach ($item['ownership_papers'] as $paper){
//                $property->ownership_papers()->create([
//                    'url'=>$paper
//                ]);
//            }
//            if (isset($item['rooms'],$item)){
//                $rooms=$item['rooms'];
//                foreach ($rooms as $room) {
//                    $room_type_id=$room['type_id'];
//                    $room_number=$room['number'];
//                    $property->rooms()->create([
//                        'count'=>$room_number,
//                        'room_type_id'=>$room_type_id
//                    ]);
//                }
//            }
//            $directions=$item['directions'];
//            $property->directions()->sync($directions);
//            $features=$item['features'];
//            foreach ($features as $feature) {
//                $property->features()->create([
//                    'feature_id'=>$feature
//                ]);
//            }
//
//            $property->detailed_attributes()->create([
//                'key'=>Str::replace('_',' ','level_location'),
//                'value'=>$item['level_location'],
//            ]);
//            $property->advertisement()->create([
//                'advertisement_start_date'=>Carbon::now()->toDate(),
//                'advertisement_end_date'=>Carbon::now()
//                    ->addDays($subscribe->advertising_package
//                        ->validity_period_per_advertisement)
//                    ->toDate(),
//                'subscribe_id'=>$subscribe->id,
//                'classification_id'=>1
//            ]);
//            $subscribe->used_advertisements_count+=1;
//            $subscribe->save();
//            $property->order()->create([
//                'serial_number'=>$this->generate_serial_number(Order::class,1),
//                'date'=>Carbon::now()->toDate(),
//                'user_id'=>$u->id,
//                'classification_id'=>1
//            ]);
//            echo 'Stored Property Successfully';
//        }

        $all=AdvertisementResource::collection(Advertisement::with(['advertisementable','subscribe.user'])
            ->where('active',true)
            ->get());
        return $this->returnData('advertising',$all);
//        return isset($p1[0]['rooms'],$p1[0]);
    }
}
